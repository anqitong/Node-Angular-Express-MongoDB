
<html>
  <head>
    <link rel="stylesheet" href="/javascripts/bootstrap/dist/css/bootstrap.min.css">
     <link rel="stylesheet" href="/stylesheets/style.css">
    <script src="/javascripts/jquery/dist/jquery.js"></script>
    <script src="/javascripts/angular/angular.js"></script>
    <script src="/javascripts/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="/javascripts/angular-animate/angular-animate.js"></script>
    <script src="/javascripts/angular-cookies/angular-cookies.js"></script>
    <script src="/javascripts/angular-messages/angular-messages.js"></script>
    <script src="/javascripts/angular-resource/angular-resource.js"></script>
    <script src="./javascripts/angular-route/angular-route.js"></script>
    <script src="/javascripts/angular-sanitize/angular-sanitize.js"></script>
    <script src="/javascripts/angular-touch/angular-touch.js"></script>
    <script src="/javascripts/angular-bootstrap/ui-bootstrap-tpls.js"></script>
    <script src="/javascripts/angularApp.js"></script>
    <script src="/javascripts/lodash/lodash.js"></script>
    <script src="/javascripts/angular-ui-router/angular-ui-router.min.js"></script>
     <title>Characters of Asmundr</title>
  </head> 

  <body ng-app="myApp">
  
    <div class="row">           
          <ui-view></ui-view>                   
        <footer class="footer">
          <div class="container">Author : Anqi Tong</div>
        </footer>                           
    </div>

    <script type="text/ng-template" id="/home.html">     
      <div class="col-md-9 col-md-offset-3">
        <div class="page-header">
          <h1>Characters of Asmundr</h1>
          <a href="http://asmundr-comic.thewebcomic.com/archive/">Tribute to the webcomic Asmundr</a>
        </div>
        <div ng-repeat="character in characters">         
          <span style="font-size:15px; margin-left:10px;">            
              <b>Name :</b> {{character.name}} -                   
              <b>Breed :</b> {{character.breed}} -         
              <b>Gender :</b> {{character.gender}} -         
              <b>Age :</b> {{character.age}} -
          </span>
          <span>
            <a href="#/characters/{{$index}}">Comments</a> -
          </span>  
          <span>
            <a href="#/delete/:id" ng-click="deleteCharacter(character._id)">
            Delete</a> -         
          </span>
          <span>
            <a href="#/edit/{{$index}}">Edit</a>            
          </span>      
        </div>       
      </div>
      <div class="col-md-4 col-md-offset-3">
        <form ng-submit="addCharacter()" style="margin-top:30px;margin-left:10px;">
           <h3>Add a new character</h3>

           <div class="form-group">
             <input type="text"
               class="form-control"
               placeholder="Name"
               ng-model="name"></input>
           </div>
           <div class="form-group">
             <input type="text"
             class="form-control"
             placeholder="Breed"
             ng-model="breed"></input>
           </div>
           <div class="form-group">
             <input type="text"
             class="form-control"
             placeholder="Gender"
             ng-model="gender"></input>
           </div>
           <div class="form-group">
             <input type="text"
             class="form-control"
             placeholder="Age"
             ng-model="age"></input>
           </div>
           <button type="submit" class="btn btn-primary">Post</button>
        </form>
      </div>
    </script>

    <script type="text/ng-template" id="/characters.html">
      <div class="page-header" style="margin-left:10px;">
        <span style="font-size:20px; margin-left:10px;">            
              <b>Name :</b> {{character.name}} -                   
              <b>Breed :</b> {{character.breed}} -         
              <b>Gender :</b> {{character.gender}} -         
              <b>Age :</b> {{character.age}}
        </span>
      </div>

      <div ng-repeat="comment in character.comments">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        {{comment.author}}
        <span style="font-size:20px; margin-left:10px;">
          {{comment.body}}
        </span>
      </div>
      
      <form ng-submit="addComment()" style="margin-top:30px; margin-left:10px;">
        <h3>Add a new comment</h3>
        <div class="form-group">
          <input type="text" class="form-control" placeholder="Comment" ng-model="body"></input>
        </div>
        <button type="submit" class="btn btn-primary">Post</button>
      </form>
    </script>

    <script type="text/ng-template" id="/delete.html">
      <div class="page-header" style="margin-left:30px;">
        <h3>
          Character successfully deleted!
        </h3>
      </div>      
      <a href="#/home" style="margin-left:30px;">Home</a>
    </script>

    <script type="text/ng-template" id="/edit.html">     
      <div class="page-header" style="margin-left:10px;">
        <span style="font-size:20px; margin-left:10px;">            
              <b>Name :</b> {{character.name}} -                   
              <b>Breed :</b> {{character.breed}} -         
              <b>Gender :</b> {{character.gender}} -         
              <b>Age :</b> {{character.age}}
          </span>
      </div>

      <div class="col-md-4 col-md-offset-3">
        <form ng-submit="editCharacter(character._id, character)" style="margin-top:30px;margin-left:10px;">
           <h3>Edit character</h3>

           <div class="form-group">
             <input type="text"
               class="form-control"
               placeholder="Name"
               ng-model="character.name"></input>
           </div>
           <div class="form-group">
             <input type="text"
             class="form-control"
             placeholder="Breed"
             ng-model="character.breed"></input>
           </div>
           <div class="form-group">
             <input type="text"
             class="form-control"
             placeholder="Gender"
             ng-model="character.gender"></input>
           </div>
           <div class="form-group">
             <input type="text"
             class="form-control"
             placeholder="Age"
             ng-model="character.age"></input>
           </div>
           <button type="update" class="btn btn-primary" data-toggle="modal" data-target="#editConfirmation">
           Save changes</button>
        </form>

        <!-- Modal -->
        <div class="modal fade" id="editConfirmation" role="dialog">
          <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                  <h4 class="modal-title">Character updated!</h4>
                </div>                
                <div class="modal-footer">
                  <button type="button" class="btn btn-default" data-dismiss="modal">
                  Close</button>
                </div>
            </div>
          </div>
        </div>

      </div>
       <a href="#/home" style="margin-left:30px;">Home</a>
    </script>


  </body>
</html>